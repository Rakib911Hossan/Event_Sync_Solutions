<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<AnchorPane prefHeight="700.0" prefWidth="1200.0" style="-fx-background-color: linear-gradient(to bottom, #1a1d2e, #2b2d42);" stylesheets="@style.css" xmlns="http://javafx.com/javafx/22" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.Corporate.Event_Sync.controller.WeekDaysController">
    <children>
        <!-- Header Section -->
            <Button fx:id="userHome" layoutX="37.0" layoutY="32.0" mnemonicParsing="false" onAction="#handleBack" style="-fx-background-color: transparent; -fx-text-fill: #4caf50; -fx-font-size: 14px; -fx-border-color: #4caf50; -fx-border-width: 2; -fx-border-radius: 5; -fx-background-radius: 5; -fx-padding: 8 20;" text="â† Back" />

            <Label layoutX="392.0" layoutY="22.0" style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: #4caf50;" text="Week Days Management">
                <HBox.margin>
                    <Insets left="250" />
                </HBox.margin>
            </Label>

            <Button fx:id="logOut" layoutX="1035.0" layoutY="29.0" mnemonicParsing="false" onAction="#navigateToMain" style="-fx-background-color: #e74c3c; -fx-text-fill: white; -fx-font-size: 14px; -fx-border-radius: 5; -fx-background-radius: 5; -fx-padding: 8 20; -fx-font-weight: bold;" text="Log Out">
                <HBox.margin>
                    <Insets left="180" />
                </HBox.margin>
            </Button>


        <!-- Main Content Container -->
        <HBox layoutX="30.0" layoutY="110.0" prefWidth="1140.0" spacing="40">
            <!-- Left Panel - User Information -->
            <VBox prefWidth="480" spacing="20" style="-fx-background-color: rgba(255, 255, 255, 0.05); -fx-background-radius: 15; -fx-padding: 25; -fx-border-color: rgba(76, 175, 80, 0.3); -fx-border-width: 1; -fx-border-radius: 15;">
                <Label style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #4caf50;" text="User Information" />

                <Separator style="-fx-background-color: rgba(76, 175, 80, 0.3);" />

                <!-- User Details Grid -->
                <VBox spacing="15">
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <Label style="-fx-font-size: 14px; -fx-text-fill: #a8b2d1; -fx-min-width: 120;" text="Name:" />
                        <Label fx:id="nameLabel" style="-fx-font-size: 14px; -fx-text-fill: #ffffff; -fx-font-weight: bold;" />
                    </HBox>

                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <Label style="-fx-font-size: 14px; -fx-text-fill: #a8b2d1; -fx-min-width: 120;" text="Phone:" />
                        <Label fx:id="phoneLabel" style="-fx-font-size: 14px; -fx-text-fill: #ffffff; -fx-font-weight: bold;" />
                    </HBox>
                    <Separator style="-fx-background-color: rgba(76, 175, 80, 0.2);" />

                    <VBox spacing="8">
                        <Label style="-fx-font-size: 14px; -fx-text-fill: #a8b2d1;" text="Current Week Days:" />
                        <Label fx:id="weekDaysLabel" prefWidth="400" style="-fx-font-size: 13px; -fx-text-fill: #4caf50; -fx-background-color: rgba(76, 175, 80, 0.1); -fx-padding: 10; -fx-background-radius: 8; -fx-border-color: rgba(76, 175, 80, 0.3); -fx-border-radius: 8; -fx-border-width: 1;" wrapText="true" />
                    </VBox>
                </VBox>

                <Separator style="-fx-background-color: rgba(76, 175, 80, 0.3);" />

                <!-- Meal Category Selection -->
                <VBox spacing="12">
                    <Label style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #4caf50;" text="Select Meal Categories" />

                    <VBox spacing="10">
                        <CheckBox fx:id="breakfastCheckBox" style="-fx-text-fill: #ffffff; -fx-font-size: 14px; -fx-font-weight: bold;" text="ðŸŒ… Breakfast" />
                        <CheckBox fx:id="lunchCheckBox" selected="true" style="-fx-text-fill: #ffffff; -fx-font-size: 14px; -fx-font-weight: bold;" text="ðŸ½ï¸ Lunch" />
                        <CheckBox fx:id="snacksCheckBox" selected="true" style="-fx-text-fill: #ffffff; -fx-font-size: 14px; -fx-font-weight: bold;" text="ðŸª Snacks" />
                        <CheckBox fx:id="dinnerCheckBox" style="-fx-text-fill: #ffffff; -fx-font-size: 14px; -fx-font-weight: bold;" text="ðŸŒ™ Dinner" />
                    </VBox>

                    <Label fx:id="selectedCategoriesLabel" prefWidth="400" style="-fx-text-fill: #4caf50; -fx-font-size: 13px; -fx-background-color: rgba(76, 175, 80, 0.1); -fx-padding: 8; -fx-background-radius: 5; -fx-border-color: rgba(76, 175, 80, 0.3); -fx-border-radius: 5; -fx-border-width: 1;" text="Selected: Lunch, Snacks" wrapText="true" />
                </VBox>
            </VBox>

            <!-- Right Panel - Week Days Table -->
            <VBox prefWidth="600" spacing="15" style="-fx-background-color: rgba(255, 255, 255, 0.05); -fx-background-radius: 15; -fx-padding: 25; -fx-border-color: rgba(76, 175, 80, 0.3); -fx-border-width: 1; -fx-border-radius: 15;">
                <Label style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #4caf50;" text="Select Your Week Days" />

                <Separator style="-fx-background-color: rgba(76, 175, 80, 0.3);" />

                <TableView fx:id="weekDaysTable" prefHeight="380.0" prefWidth="550.0" style="-fx-background-color: transparent; -fx-background-radius: 10; -fx-border-color: rgba(76, 175, 80, 0.2); -fx-border-radius: 10; -fx-border-width: 1;">
                    <columns>
                        <TableColumn fx:id="daysColumn" prefWidth="200.0" style="-fx-alignment: CENTER;" text="Days" />
                        <TableColumn fx:id="weekDaysColumn" prefWidth="340.0" style="-fx-alignment: CENTER;" text="Select" />
                    </columns>
                </TableView>

                <!-- Action Buttons -->
                <HBox alignment="CENTER" spacing="15">
                    <Button fx:id="confirmButton" mnemonicParsing="false" onAction="#handleConfirmAction" style="-fx-background-color: #4caf50; -fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold; -fx-padding: 12 30; -fx-background-radius: 8; -fx-cursor: hand;" text="âœ“ Confirm Selection" />

                    <Button mnemonicParsing="false" onAction="#handleExitAction" style="-fx-background-color: #e74c3c; -fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold; -fx-padding: 12 30; -fx-background-radius: 8; -fx-cursor: hand;" text="Exit Application" />
                </HBox>

                <Label style="-fx-text-fill: #a8b2d1; -fx-font-size: 12px; -fx-font-style: italic; -fx-padding: 5;" text="ðŸ’¡ Tip: Select days and meal categories, then click Confirm to save your preferences" wrapText="true" />
            </VBox>
        </HBox>
    </children>
</AnchorPane>
